http:
 #region routers 
  routers:
    erp-mtl:
      entryPoints:
        - "https"
      rule: "Host(`erp-mtl.com`,`www.erp-mtl.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: erp-mtl
    its:
      entryPoints:
        - "https"
      rule: "Host(`its.meto.vn`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: its
    techredmine:
      entryPoints:
        - "https"
      rule: "Host(`techredmine.viettinlab.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: techredmine
    uptime:
      entryPoints:
        - "https"
      rule: "Host(`uptime.mitalab.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: uptime
    chat:
      entryPoints:
        - "https"
      rule: "Host(`chat.mitalab.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: chat
    meto:
      entryPoints:
        - "https"
      rule: "Host(`meto.vn`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: meto
    metoid:
      entryPoints:
        - "https"
      rule: "Host(`id.meto.vn`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: metoid
    iot:
      entryPoints:
        - "https"
      rule: "Host(`iot.ivd.vn`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: iot
    erpmt:
      entryPoints:
        - "https"
      rule: "Host(`erp.mitalab.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: erpmt
    erpth:
      entryPoints:
        - "https"
      rule: "Host(`erp.thanhhamedical.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: erpth
    erplkdc:
      entryPoints:
        - "https"
      rule: "Host(`erp.lienketdachieu.com`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: erplkdc
    iolissta:
      entryPoints:
        - "https"
      rule: "Host(`sta.iolis.solutions`)"
      middlewares:
        - default-headers
        - https-redirectscheme
      tls:
        certResolver: http
      service: iolissta


#endregion
#region services
  services:
    erp-mtl:
      loadBalancer:
        servers:
          - url: "http://192.168.100.124:80"
        passHostHeader: true
    its:
      loadBalancer:
        servers:
          - url: "http://192.168.100.7:8080"
        passHostHeader: true
    techredmine:
      loadBalancer:
        servers:
          - url: "http://192.168.100.224:80"
        passHostHeader: true
    uptime:
      loadBalancer:
        servers:
          - url: "http://192.168.100.235:3001"
        passHostHeader: true
    chat:
      loadBalancer:
        servers:
          - url: "http://192.168.100.240:80"
        passHostHeader: true
    meto:
      loadBalancer:
        servers:
          - url: "http://192.168.2.20:80"
        passHostHeader: true
    metoid:
      loadBalancer:
        servers:
          - url: "http://192.168.2.20:8080"
        passHostHeader: true
    iot:
      loadBalancer:
        servers:
          - url: "http://192.168.100.243:8888"
        passHostHeader: true
    erpmt:
      loadBalancer:
        servers:
          - url: "http://192.168.100.51:80"
        passHostHeader: true
    erpth:
      loadBalancer:
        servers:
          - url: "http://192.168.60.12:80"
        passHostHeader: true
    erplkdc:
      loadBalancer:
        servers:
          - url: "http://192.168.60.15:80"
        passHostHeader: true
    iolissta:
      loadBalancer:
        servers:
          - url: "http://192.168.100.242:80"
        passHostHeader: true


#endregion
  middlewares:
    https-redirectscheme:
      redirectScheme:
        scheme: https
        permanent: true
    default-headers:
      headers:
        frameDeny: true
        browserXssFilter: true
        contentTypeNosniff: true
        forceSTSHeader: true
        stsIncludeSubdomains: true
        stsPreload: true
        stsSeconds: 15552000
        customFrameOptionsValue: SAMEORIGIN
        customRequestHeaders:
          X-Forwarded-Proto: https

    default-whitelist:
      ipAllowList:
        sourceRange:
        - "10.0.0.0/8"
        - "192.168.0.0/16"
        - "172.16.0.0/12"

    secured:
      chain:
        middlewares:
        - default-whitelist
        - default-headers
